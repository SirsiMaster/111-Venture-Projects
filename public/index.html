<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LEGACY | The Estate Operating System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;800&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    
    <style>
        /* ================================================
           LEGACY v2.2 - RICH ROYAL BLUE + GOLD
           Cinematic | Full-Bleed Photography | Premium
           ================================================ */
        
        :root {
            /* Royal Blue Palette - RICH, not light */
            --color-navy: #0f172a;
            --color-navy-light: #1e293b;
            --color-royal: #1e3a8a;
            --color-royal-bright: #2563eb;
            
            /* Pantone-Inspired Gold - True metallic gold, not yellow */
            --color-gold: #C8A951;         /* Warm rich gold */
            --color-gold-bright: #D4B85A;  /* Highlight gold */
            --color-gold-deep: #B8942A;    /* Shadow gold */
            
            /* Status */
            --color-emerald: #10B981;
            
            /* Glass */
            --glass-surface: rgba(15, 23, 42, 0.85);
            --glass-border: rgba(255, 255, 255, 0.15);
        }

        * {
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: radial-gradient(circle at 50% 0%, #2563eb 0%, #1e3a8a 40%, #0f172a 80%);
            background-attachment: fixed;
            color: white;
            overflow-x: hidden;
        }

        h1, h2, h3, h4, h5 {
            font-family: 'Cinzel', serif;
            font-weight: 600;
            letter-spacing: 0.02em;
        }

        /* Art Deco Decorative Elements */
        .deco-line {
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--color-gold), transparent);
        }

        .deco-corner {
            position: absolute;
            width: 40px;
            height: 40px;
            border-color: var(--color-gold);
            opacity: 0.6;
        }
        .deco-corner.top-left { top: 20px; left: 20px; border-top: 2px solid; border-left: 2px solid; }
        .deco-corner.top-right { top: 20px; right: 20px; border-top: 2px solid; border-right: 2px solid; }
        .deco-corner.bottom-left { bottom: 20px; left: 20px; border-bottom: 2px solid; border-left: 2px solid; }
        .deco-corner.bottom-right { bottom: 20px; right: 20px; border-bottom: 2px solid; border-right: 2px solid; }

        .deco-divider {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 16px;
            margin: 24px 0;
        }

        .deco-divider::before,
        .deco-divider::after {
            content: '';
            flex: 1;
            max-width: 120px;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--color-gold));
        }

        .deco-divider::after {
            background: linear-gradient(90deg, var(--color-gold), transparent);
        }

        .deco-diamond {
            width: 8px;
            height: 8px;
            background: var(--color-gold);
            transform: rotate(45deg);
        }

        /* --- PHOTO SECTIONS --- */
        .photo-section {
            position: relative;
            min-height: 70vh;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            padding-top: 64px; /* Prevent hero from going under nav */
        }

        /* Hero-specific - slightly taller */
        .photo-section.hero-section {
            min-height: 75vh;
        }

        .photo-bg {
            position: absolute;
            inset: 0;
            z-index: 0;
        }

        .photo-bg img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: center 30%;
            image-rendering: high-quality;
        }

        /* Text with strong readability on images */
        .hero-text {
            text-shadow: 
                0 2px 4px rgba(0, 0, 0, 0.8),
                0 4px 20px rgba(0, 0, 0, 0.6),
                0 8px 40px rgba(0, 0, 0, 0.4);
        }

        .hero-text-gold {
            text-shadow: 
                0 2px 4px rgba(0, 0, 0, 0.8),
                0 4px 20px rgba(0, 0, 0, 0.6),
                0 0 30px rgba(200, 169, 81, 0.3);
        }

        .photo-content {
            position: relative;
            z-index: 10;
        }

        /* --- GLASS CARDS with depth --- */
        .glass-card {
            background: rgba(30, 58, 138, 0.5);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 
                0 4px 30px rgba(0, 0, 0, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .glass-card:hover {
            border-color: var(--color-gold);
            transform: translateY(-4px);
            box-shadow: 
                0 20px 50px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.15);
        }

        .glass-panel {
            background: rgba(30, 58, 138, 0.6);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* --- BUTTONS --- */
        .btn-gold {
            background: var(--color-gold);
            color: #000;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.12em;
            padding: 0.7rem 1.8rem;
            font-size: 0.65rem;
            transition: all 0.3s ease;
        }

        .btn-gold:hover {
            background: var(--color-gold-bright);
            box-shadow: 0 0 20px rgba(212, 175, 55, 0.5);
            transform: translateY(-2px);
        }

        .btn-outline {
            border: 2px solid rgba(255, 255, 255, 0.4);
            color: white;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.12em;
            padding: 0.7rem 1.8rem;
            font-size: 0.65rem;
            transition: all 0.3s ease;
        }

        .btn-outline:hover {
            border-color: white;
            background: rgba(255, 255, 255, 0.1);
        }

        /* --- STATUS DOT --- */
        @keyframes pulse-status {
            0%, 100% { opacity: 1; box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.4); }
            50% { opacity: 0.8; box-shadow: 0 0 0 6px rgba(16, 185, 129, 0); }
        }

        .status-dot {
            width: 6px;
            height: 6px;
            background: var(--color-emerald);
            border-radius: 50%;
            animation: pulse-status 2s ease-in-out infinite;
        }

        /* --- REVEAL ANIMATIONS --- */
        .reveal {
            opacity: 0;
            transform: translateY(40px);
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .reveal.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .reveal-left {
            opacity: 0;
            transform: translateX(-60px);
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .reveal-left.visible {
            opacity: 1;
            transform: translateX(0);
        }

        .delay-1 { transition-delay: 0.1s; }
        .delay-2 { transition-delay: 0.2s; }
        .delay-3 { transition-delay: 0.3s; }
        .delay-4 { transition-delay: 0.4s; }

        /* --- FLOATING ORBS --- */
        .floating-orbs {
            position: absolute;
            inset: 0;
            z-index: 2;
            pointer-events: none;
            overflow: hidden;
        }

        .orb {
            position: absolute;
            border-radius: 50%;
            filter: blur(80px);
        }

        .orb-gold {
            background: radial-gradient(circle, var(--color-gold) 0%, transparent 70%);
        }

        .orb-blue {
            background: radial-gradient(circle, var(--color-royal-bright) 0%, transparent 70%);
        }

        @keyframes float-1 {
            0%, 100% { transform: translateY(0) translateX(0); }
            50% { transform: translateY(-30px) translateX(15px); }
        }

        @keyframes float-2 {
            0%, 100% { transform: translateY(0) translateX(0); }
            50% { transform: translateY(20px) translateX(-20px); }
        }

        .animate-float-1 { animation: float-1 15s ease-in-out infinite; }
        .animate-float-2 { animation: float-2 20s ease-in-out infinite; }

        /* --- SECTION DIVIDER - minimal, blends with blue --- */
        .section-divider {
            height: 40px;
            background: transparent;
            position: relative;
        }

        .section-divider::after {
            content: '';
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            width: 60px;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--color-gold), transparent);
        }

        /* --- GOLD FRACTAL PATTERN TEXTURE --- */
        .gold-fractal-bg {
            position: relative;
        }
        
        .gold-fractal-bg::after {
            content: '';
            position: absolute;
            inset: 0;
            opacity: 0.15;
            background-image: 
                /* Sacred geometry / mandala pattern */
                repeating-conic-gradient(
                    from 0deg at 50% 50%,
                    transparent 0deg 30deg,
                    var(--color-gold) 30deg 31deg,
                    transparent 31deg 60deg
                ),
                /* Concentric circles */
                repeating-radial-gradient(
                    circle at center,
                    transparent 0px,
                    transparent 40px,
                    rgba(212, 175, 55, 0.5) 41px,
                    transparent 42px
                ),
                /* Diamond grid overlay */
                linear-gradient(45deg, transparent 46%, rgba(212, 175, 55, 0.3) 49%, rgba(212, 175, 55, 0.3) 51%, transparent 54%),
                linear-gradient(-45deg, transparent 46%, rgba(212, 175, 55, 0.3) 49%, rgba(212, 175, 55, 0.3) 51%, transparent 54%);
            background-size: 
                200px 200px,
                100px 100px,
                40px 40px,
                40px 40px;
            pointer-events: none;
            z-index: 5;
        }

        /* --- PROTOCOL STEPS --- */
        .protocol-photo {
            position: relative;
            height: 280px;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        @media (max-width: 768px) {
            .protocol-photo {
                height: 220px;
            }
        }

        .protocol-photo img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: center 30%;
            transition: transform 0.6s ease;
        }

        .protocol-photo:hover img {
            transform: scale(1.03);
        }

        /* Depth of field blur for backgrounds */
        .depth-blur {
            filter: blur(2px);
        }

        /* --- PORTRAIT CARDS --- */
        .portrait-card {
            transition: all 0.4s ease;
        }

        .portrait-card:hover {
            transform: translateY(-8px);
        }

        /* --- RESPONSIVE --- */
        @media (max-width: 768px) {
            .mobile-stack {
                flex-direction: column;
            }
        }

        /* Image quality */
        img {
            image-rendering: -webkit-optimize-contrast;
        }
    </style>
</head>
<body class="antialiased">

    <!-- NAV -->
    <nav class="fixed top-0 w-full z-50 transition-all duration-300 bg-black/20 backdrop-blur-sm" id="main-nav">
        <div class="max-w-7xl mx-auto px-5 h-14 flex items-center justify-between">
            <div class="flex items-center gap-2">
                <div class="w-8 h-8 text-[var(--color-gold)]">
                    <svg viewBox="0 0 100 100" class="w-full h-full fill-current" xmlns="http://www.w3.org/2000/svg">
                        <path d="M50 20 C55 20 58 25 58 30 C58 35 55 38 50 38 C45 38 42 35 42 30 C42 25 45 20 50 20 M50 40 C60 40 70 30 80 15 C85 25 85 45 70 55 L60 60 L65 90 L50 85 L35 90 L40 60 L30 55 C15 45 15 25 20 15 C30 30 40 40 50 40 Z" />
                    </svg>
                </div>
                <span class="text-base font-bold tracking-[0.2em] text-white" style="font-family: 'Cinzel', serif;">LEGACY</span>
            </div>
            
            <div class="hidden md:flex items-center gap-8">
                <a href="#problem" class="text-xs font-bold tracking-[0.2em] text-white/70 hover:text-white transition-colors uppercase">Problem</a>
                <a href="#protocol" class="text-xs font-bold tracking-[0.2em] text-white/70 hover:text-white transition-colors uppercase">Protocol</a>
                <a href="#security" class="text-xs font-bold tracking-[0.2em] text-white/70 hover:text-white transition-colors uppercase">Security</a>
                <a href="#stories" class="text-xs font-bold tracking-[0.2em] text-white/70 hover:text-white transition-colors uppercase">Stories</a>
            </div>

            <div class="flex items-center gap-4">
                <a href="#" class="text-xs font-bold tracking-[0.15em] text-white/70 hover:text-white transition-colors uppercase" onclick="event.preventDefault(); openAuthModal('signin');">
                    Sign In
                </a>
                <a href="#pricing" class="btn-gold" onclick="event.preventDefault(); openAuthModal('signup');">
                    Get Started
                </a>
            </div>
        </div>
    </nav>

    <!-- =====================================================
         HERO - Full-bleed 4K multi-generational Black family
         ===================================================== -->
    <header class="photo-section hero-section">
        <!-- 4K Background - Crisp family imagery -->
        <div class="photo-bg">
            <img src="images/hero-family.jpg" 
                 alt="African American multi-generational family with grandparents, parents and children together"
                 loading="eager"
                 style="object-position: center 25%;">
        </div>
        
        <!-- Stronger overlay + vignette for text readability -->
        <div class="absolute inset-0 bg-gradient-to-t from-[#0f172a] via-[#0f172a]/60 to-[#0f172a]/50 z-1"></div>
        <div class="absolute inset-0 z-1" style="background: radial-gradient(ellipse at center, transparent 0%, rgba(15, 23, 42, 0.4) 100%);"></div>
        
        <!-- Art Deco corner frames -->
        <div class="deco-corner top-left"></div>
        <div class="deco-corner top-right"></div>
        <div class="deco-corner bottom-left"></div>
        <div class="deco-corner bottom-right"></div>
        
        <!-- Hero Content -->
        <div class="photo-content text-center px-6 max-w-5xl mx-auto">
            <!-- Art Deco divider with label -->
            <div class="deco-divider reveal">
                <div class="deco-diamond"></div>
            </div>
            <span class="text-xs font-bold tracking-[0.25em] text-white uppercase hero-text reveal" style="font-family: 'Cinzel', serif;">The Estate Operating System</span>
            
            <!-- Main headline only -->
            <h1 class="text-3xl md:text-4xl lg:text-5xl text-white mt-6 mb-8 leading-[1.15] hero-text reveal delay-1" style="font-family: 'Cinzel', serif;">
                Your Legacy<br>
                <span class="text-[var(--color-gold)] hero-text-gold">Deserves a Guardian</span>
            </h1>
        </div>
        
        <!-- Scroll indicator -->
        <div class="absolute bottom-8 left-1/2 -translate-x-1/2 z-10">
            <svg class="w-5 h-5 text-white/60 animate-bounce" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
            </svg>
        </div>
    </header>

    <!-- Section Divider -->
    <div class="section-divider"></div>

    <!-- =====================================================
         PROBLEM SECTION - Split-Screen with 4K imagery
         ===================================================== -->
    <section id="problem" class="grid md:grid-cols-2">
        <!-- Left: 4K Photo - balanced with content -->
        <div class="relative h-[450px] md:h-auto overflow-hidden">
            <img src="https://images.unsplash.com/photo-1551836022-d5d88e9218df?q=80&w=3840&auto=format&fit=crop" 
                 alt="Person reviewing important documents"
                 class="w-full h-full object-cover object-[center_30%]">
            
            <!-- Floating stat on photo -->
            <div class="absolute bottom-6 left-6 glass-panel p-3 reveal-left">
                <div class="text-2xl font-bold text-[var(--color-gold)] stat-counter" style="font-family: 'Cinzel', serif;" data-target="570">570+</div>
                <div class="text-[0.6rem] text-white/70 uppercase tracking-[0.15em] mt-1">Hours of Administration</div>
            </div>
        </div>
        
        <!-- Right: Content - balanced -->
        <div class="flex flex-col justify-center px-6 md:px-8 py-8 bg-[#1e3a8a]/60">
            <div class="max-w-md reveal">
                <h2 class="text-2xl md:text-3xl lg:text-4xl text-white mb-4 leading-tight" style="font-family: 'Cinzel', serif;">
                    The 500-Hour<br>
                    <span class="text-[var(--color-gold)]">Problem</span>
                </h2>
                
                <p class="text-sm text-white/80 leading-relaxed mb-4">
                    The average estate takes <strong class="text-[var(--color-gold)]">18 months</strong> to settle. That's 18 months of probate courts, lost keys, and fighting bureaucracy—while you're supposed to be grieving.
                </p>
                
                <p class="text-sm text-white/60 leading-relaxed mb-5">
                    We step in as your <strong class="text-[var(--color-emerald)]">Digital Executor</strong>. We automate the notifications, secure the assets, and shepherd your wealth to the next generation.
                </p>
                
                <!-- Stats Grid -->
                <div class="grid grid-cols-2 gap-3">
                    <div class="glass-card p-3 reveal delay-1">
                        <div class="text-2xl font-bold text-white stat-counter" style="font-family: 'Cinzel', serif;" data-target="18">18</div>
                        <div class="text-[0.6rem] text-[var(--color-gold)] uppercase tracking-[0.1em] mt-1">Months Average</div>
                    </div>
                    <div class="glass-card p-3 reveal delay-2">
                        <div class="text-2xl font-bold text-white stat-counter" style="font-family: 'Cinzel', serif;" data-target="147">147</div>
                        <div class="text-[0.6rem] text-[var(--color-gold)] uppercase tracking-[0.1em] mt-1">Tasks Required</div>
                    </div>
                    <div class="glass-card p-3 reveal delay-3">
                        <div class="text-2xl font-bold text-[var(--color-emerald)] stat-counter" style="font-family: 'Cinzel', serif;" data-target="89">89%</div>
                        <div class="text-[0.6rem] text-[var(--color-gold)] uppercase tracking-[0.1em] mt-1">Feel Overwhelmed</div>
                    </div>
                    <div class="glass-card p-3 reveal delay-4">
                        <div class="text-2xl font-bold text-white" style="font-family: 'Cinzel', serif;">$1.2M</div>
                        <div class="text-[0.6rem] text-[var(--color-gold)] uppercase tracking-[0.1em] mt-1">Lost Assets/Year</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section Divider -->
    <div class="section-divider"></div>

    <!-- =====================================================
         VALUE PROPOSITION SECTION - Moved from Hero
         ===================================================== -->
    <section id="value" class="py-10 relative overflow-hidden gold-fractal-bg">
        <div class="absolute inset-0 bg-[#1e3a8a]/50"></div>
        
        <div class="max-w-4xl mx-auto px-5 relative z-10 text-center">
            <div class="reveal">
                <p class="text-base md:text-lg text-white/90 max-w-2xl mx-auto mb-6 leading-relaxed">
                    We automate the chaotic administration of loss—so your family can grieve in peace, not paperwork.
                </p>
                
                <!-- CTA Buttons -->
                <div class="flex flex-col sm:flex-row gap-3 justify-center items-center mb-8">
                    <button class="btn-gold">
                        Begin Your Legacy
                    </button>
                    <button class="btn-outline">
                        See How It Works
                    </button>
                </div>
                
                <!-- Trust indicators -->
                <div class="flex flex-wrap items-center justify-center gap-5 text-white text-[0.65rem] tracking-[0.12em] uppercase">
                    <div class="flex items-center gap-2">
                        <div class="status-dot"></div>
                        <span>AES-256 Encrypted</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <div class="status-dot"></div>
                        <span>SOC 2 Compliant</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <div class="status-dot"></div>
                        <span>Zero-Knowledge</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section Divider -->
    <div class="section-divider"></div>

    <!-- =====================================================
         PROTOCOL SECTION - Full Photography Per Step
         ===================================================== -->
    <section id="protocol" class="py-10 relative overflow-hidden">
        <div class="absolute inset-0 bg-[#1e3a8a]/50"></div>
        
        <div class="max-w-6xl mx-auto px-5 relative z-10">
            <!-- Section Header -->
            <div class="text-center mb-8 reveal">
                <h2 class="text-2xl md:text-3xl lg:text-4xl text-white mb-3" style="font-family: 'Cinzel', serif;">
                    From Grief to <span class="text-[var(--color-gold)]">Greatness</span>
                </h2>
                <p class="text-sm text-white/60 max-w-xl mx-auto">
                    Four steps to transform chaos into clarity.
                </p>
            </div>

            <!-- Protocol Steps with Full Photography -->
            <div class="space-y-0">
                
                <!-- Step 1: INTAKE -->
                <div class="grid md:grid-cols-2 gap-0 reveal">
                    <div class="protocol-photo">
                        <img src="https://images.unsplash.com/photo-1573497019940-1c28c88b4f3e?w=800&h=600&fit=crop&crop=faces" 
                             alt="African American woman reviewing documents at laptop">
                        <!-- No dark overlay -->
                        <div class="absolute top-5 left-5 flex items-center gap-3">
                            <div class="status-dot"></div>
                            <span class="text-5xl font-bold text-white/20" style="font-family: 'Cinzel', serif;">01</span>
                        </div>
                    </div>
                    <div class="flex flex-col justify-center p-5 md:p-6 bg-[#1e3a8a]/50 backdrop-blur-sm border-l border-[var(--color-gold)]/20">
                        <h3 class="text-2xl md:text-3xl text-white mb-3" style="font-family: 'Cinzel', serif;">INTAKE</h3>
                        <p class="text-sm text-white/70 leading-relaxed mb-4">
                            AI-driven scanning of physical documents and digital footprints. We construct a unified asset map in hours, not months.
                        </p>
                        <ul class="space-y-2 text-sm text-white/60">
                            <li class="flex items-center gap-2"><span class="text-[var(--color-emerald)]">✓</span> Automatic bank account discovery</li>
                            <li class="flex items-center gap-2"><span class="text-[var(--color-emerald)]">✓</span> Property & vehicle title search</li>
                            <li class="flex items-center gap-2"><span class="text-[var(--color-emerald)]">✓</span> Digital asset mapping (crypto, NFTs)</li>
                        </ul>
                    </div>
                </div>

                <!-- Step 2: VERIFY -->
                <div class="grid md:grid-cols-2 gap-0 reveal">
                    <div class="flex flex-col justify-center p-5 md:p-6 bg-[#1e3a8a]/50 backdrop-blur-sm border-r border-[var(--color-gold)]/20 order-2 md:order-1">
                        <h3 class="text-2xl md:text-3xl text-white mb-3" style="font-family: 'Cinzel', serif;">VERIFY</h3>
                        <p class="text-sm text-white/70 leading-relaxed mb-4">
                            Biometric identity checks and death certificate validation against government databases. Fraud-proof and legally binding.
                        </p>
                        <ul class="space-y-2 text-sm text-white/60">
                            <li class="flex items-center gap-2"><span class="text-[var(--color-emerald)]">✓</span> Multi-factor authentication</li>
                            <li class="flex items-center gap-2"><span class="text-[var(--color-emerald)]">✓</span> Government database verification</li>
                            <li class="flex items-center gap-2"><span class="text-[var(--color-emerald)]">✓</span> Notarized digital signatures</li>
                        </ul>
                    </div>
                    <div class="protocol-photo order-1 md:order-2">
                        <img src="https://images.unsplash.com/photo-1560250097-0b93528c311a?w=800&h=600&fit=crop&crop=faces" 
                             alt="African American businessman verifying documents">
                        <!-- No dark overlay -->
                        <div class="absolute top-5 right-5 flex items-center gap-3">
                            <span class="text-5xl font-bold text-white/20" style="font-family: 'Cinzel', serif;">02</span>
                            <div class="status-dot"></div>
                        </div>
                    </div>
                </div>

                <!-- Step 3: NOTIFY -->
                <div class="grid md:grid-cols-2 gap-0 reveal">
                    <div class="protocol-photo">
                        <img src="https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?w=800&h=600&fit=crop&crop=faces" 
                             alt="African American woman on phone making calls">
                        <!-- No dark overlay -->
                        <div class="absolute top-5 left-5 flex items-center gap-3">
                            <div class="status-dot"></div>
                            <span class="text-5xl font-bold text-white/20" style="font-family: 'Cinzel', serif;">03</span>
                        </div>
                    </div>
                    <div class="flex flex-col justify-center p-5 md:p-6 bg-[#1e3a8a]/50 backdrop-blur-sm border-l border-[var(--color-gold)]/20">
                        <h3 class="text-2xl md:text-3xl text-white mb-3" style="font-family: 'Cinzel', serif;">NOTIFY</h3>
                        <p class="text-sm text-white/70 leading-relaxed mb-4">
                            Automated legal letters sent to IRS, credit bureaus, and financial institutions. Accounts frozen instantly to prevent fraud.
                        </p>
                        <ul class="space-y-2 text-sm text-white/60">
                            <li class="flex items-center gap-2"><span class="text-[var(--color-emerald)]">✓</span> 500+ institution templates</li>
                            <li class="flex items-center gap-2"><span class="text-[var(--color-emerald)]">✓</span> Certified mail tracking</li>
                            <li class="flex items-center gap-2"><span class="text-[var(--color-emerald)]">✓</span> Credit freeze automation</li>
                        </ul>
                    </div>
                </div>

                <!-- Step 4: DISTRIBUTE -->
                <div class="grid md:grid-cols-2 gap-0 reveal">
                    <div class="flex flex-col justify-center p-5 md:p-6 bg-[#1e3a8a]/50 backdrop-blur-sm bg-gradient-to-r from-[var(--color-gold)]/10 to-transparent border-r border-[var(--color-gold)]/30 order-2 md:order-1">
                        <h3 class="text-2xl md:text-3xl text-[var(--color-gold)] mb-3" style="font-family: 'Cinzel', serif;">DISTRIBUTE</h3>
                        <p class="text-sm text-white/70 leading-relaxed mb-4">
                            Cryptographic release of assets to verified heirs. Final accounting report generated. Your legacy, delivered.
                        </p>
                        <ul class="space-y-2 text-sm text-white/60">
                            <li class="flex items-center gap-2"><span class="text-[var(--color-gold)]">✓</span> Multi-sig release mechanism</li>
                            <li class="flex items-center gap-2"><span class="text-[var(--color-gold)]">✓</span> Tax document preparation</li>
                            <li class="flex items-center gap-2"><span class="text-[var(--color-gold)]">✓</span> Heir notification & support</li>
                        </ul>
                        <button class="btn-gold mt-5 w-fit">
                            Start Your Protocol
                        </button>
                    </div>
                    <div class="protocol-photo order-1 md:order-2">
                        <img src="https://images.unsplash.com/photo-1511895426328-dc8714191300?w=800&h=600&fit=crop&crop=faces" 
                             alt="Happy African American family embracing">
                        <!-- No dark overlay -->
                        <div class="absolute top-5 right-5 flex items-center gap-3">
                            <span class="text-5xl font-bold text-[var(--color-gold)]/30" style="font-family: 'Cinzel', serif;">04</span>
                            <div class="status-dot"></div>
                        </div>
                        <!-- Success overlay -->
                        <div class="absolute bottom-5 right-5 glass-panel p-3">
                            <div class="flex items-center gap-2">
                                <div class="status-dot"></div>
                                <span class="text-white font-bold uppercase tracking-widest text-xs">Protocol Complete</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section Divider -->
    <div class="section-divider"></div>

    <!-- =====================================================
         SECURITY SECTION - Full-Bleed Vault
         ===================================================== -->
    <section id="security" class="photo-section min-h-[60vh]">
        <!-- Full-bleed Background Photo -->
        <div class="photo-bg">
            <img src="https://images.unsplash.com/photo-1558494949-ef010cbdcc31?q=80&w=3840&auto=format&fit=crop" 
                 alt="Secure data center vault">
        </div>
        
        <!-- Overlay for text readability -->
        <div class="absolute inset-0 bg-gradient-to-r from-[#0f172a]/90 via-[#1e3a8a]/50 to-transparent z-1"></div>
        
        <!-- Animated Shield -->
        <div class="absolute right-10 md:right-1/4 top-1/2 -translate-y-1/2 z-3 hidden md:block">
            <div class="relative">
                <div class="w-48 h-48 border-2 border-[var(--color-gold)]/30 rounded-full absolute -inset-6" style="animation: spin 30s linear infinite;"></div>
                <svg viewBox="0 0 24 24" class="w-36 h-36 text-[var(--color-gold)] fill-current opacity-30">
                    <path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"/>
                </svg>
                <div class="absolute -top-3 -right-3 glass-panel px-3 py-1 flex items-center gap-2">
                    <div class="status-dot"></div>
                    <span class="text-[0.6rem] text-[var(--color-emerald)] uppercase tracking-widest font-bold">AES-256</span>
                </div>
                <div class="absolute -bottom-3 -left-3 glass-panel px-3 py-1 flex items-center gap-2">
                    <div class="status-dot"></div>
                    <span class="text-[0.6rem] text-[var(--color-gold)] uppercase tracking-widest font-bold">SOC 2</span>
                </div>
            </div>
        </div>
        
        <!-- Content -->
        <div class="photo-content max-w-6xl mx-auto px-5 grid md:grid-cols-2 gap-10 items-center w-full">
            <div class="reveal-left">
                <h2 class="text-2xl md:text-4xl text-white mb-5 leading-tight" style="font-family: 'Cinzel', serif;">
                    Built Like a<br>
                    <span class="text-[var(--color-gold)]">Swiss Vault</span>
                </h2>
                
                <p class="text-sm text-white/80 leading-relaxed mb-6">
                    Your family's data is more valuable than gold. We treat it that way. 
                    Legacy uses military-grade encryption to ensure your asset map is visible to <strong class="text-[var(--color-gold)]">no one</strong>—not even us—until verification.
                </p>
                
                <!-- Security Features -->
                <div class="space-y-4">
                    <div class="glass-card p-4 flex gap-3 items-start reveal delay-1">
                        <div class="w-8 h-8 rounded-full bg-[var(--color-emerald)]/20 flex items-center justify-center flex-shrink-0">
                            <svg class="w-4 h-4 text-[var(--color-emerald)]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path>
                            </svg>
                        </div>
                        <div>
                            <h4 class="text-white font-bold text-xs uppercase tracking-widest mb-1">Zero-Knowledge Architecture</h4>
                            <p class="text-xs text-white/60">Your data is encrypted on your device before it ever touches our servers.</p>
                        </div>
                    </div>
                    
                    <div class="glass-card p-4 flex gap-3 items-start reveal delay-2">
                        <div class="w-8 h-8 rounded-full bg-[var(--color-gold)]/20 flex items-center justify-center flex-shrink-0">
                            <svg class="w-4 h-4 text-[var(--color-gold)]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path>
                            </svg>
                        </div>
                        <div>
                            <h4 class="text-white font-bold text-xs uppercase tracking-widest mb-1">Multi-Sig Release</h4>
                            <p class="text-xs text-white/60">Requires cryptographic proof of death and identity verification from two separate executors.</p>
                        </div>
                    </div>
                    
                    <div class="glass-card p-4 flex gap-3 items-start reveal delay-3">
                        <div class="w-8 h-8 rounded-full bg-[var(--color-emerald)]/20 flex items-center justify-center flex-shrink-0">
                            <svg class="w-4 h-4 text-[var(--color-emerald)]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                        <div>
                            <h4 class="text-white font-bold text-xs uppercase tracking-widest mb-1">Audit Trail</h4>
                            <p class="text-xs text-white/60">Every access attempt is logged, timestamped, and immutably recorded on-chain.</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="hidden md:block"></div>
        </div>
    </section>

    <!-- Section Divider -->
    <div class="section-divider"></div>

    <!-- =====================================================
         TESTIMONIALS - Large 4K Portrait Faces
         ===================================================== -->
    <section id="stories" class="py-10 relative overflow-hidden">
        <div class="absolute inset-0 bg-[#1e3a8a]/50"></div>
        
        <div class="max-w-6xl mx-auto px-5 relative z-10">
            <!-- Section Header -->
            <div class="text-center mb-10 reveal">
                <h2 class="text-2xl md:text-3xl lg:text-4xl text-white mb-4" style="font-family: 'Cinzel', serif;">
                    From Grief to <span class="text-[var(--color-gold)]">Gratitude</span>
                </h2>
                <p class="text-sm text-white/60 max-w-xl mx-auto">
                    Real families who found peace through our protocol.
                </p>
            </div>
            
            <!-- Portrait Cards - All African American headshots -->
            <div class="grid md:grid-cols-3 gap-5">
                
                <!-- Testimonial 1 - David M (African American man) -->
                <div class="portrait-card glass-card overflow-hidden reveal delay-1">
                    <div class="relative h-56 overflow-hidden">
                        <img src="https://images.unsplash.com/photo-1506277886164-e25aa3f4ef7f?q=80&w=3840&auto=format&fit=crop" 
                             alt="David M. - African American professional man"
                             class="w-full h-full object-cover"
                             style="object-position: center 20%;">
                        <div class="absolute inset-x-0 bottom-0 h-32 bg-gradient-to-t from-[#0f172a] to-transparent"></div>
                        <div class="absolute top-4 right-4 glass-panel px-3 py-2 flex items-center gap-2">
                            <div class="status-dot"></div>
                            <span class="text-xs text-white uppercase tracking-widest">Verified</span>
                        </div>
                    </div>
                    <div class="p-5 -mt-6 relative">
                        <div class="text-[var(--color-gold)] text-4xl font-serif leading-none mb-2">"</div>
                        <p class="text-white/80 text-sm leading-relaxed mb-4">
                            When my father passed, I was handed a box of paperwork and told to 'figure it out.' Legacy gave me the space to actually mourn him.
                        </p>
                        <div class="flex items-center justify-between">
                            <div>
                                <div class="text-white font-bold text-sm" style="font-family: 'Cinzel', serif;">David M.</div>
                                <div class="text-[var(--color-gold)] text-[0.6rem] uppercase tracking-widest">Estate Settled in 3 Weeks</div>
                            </div>
                            <div class="text-2xl font-bold text-[var(--color-emerald)]/30" style="font-family: 'Cinzel', serif;">$1.2M</div>
                        </div>
                    </div>
                </div>
                
                <!-- Testimonial 2 - Angela W (African American woman) -->
                <div class="portrait-card glass-card overflow-hidden reveal delay-2">
                    <div class="relative h-56 overflow-hidden">
                        <img src="https://images.unsplash.com/photo-1589156280159-27698a70f29e?q=80&w=3840&auto=format&fit=crop" 
                             alt="Angela W. - African American professional woman" 
                             class="w-full h-full object-cover"
                             style="object-position: center center;">
                        <div class="absolute inset-x-0 bottom-0 h-32 bg-gradient-to-t from-[#0f172a] to-transparent"></div>
                        <div class="absolute top-4 right-4 glass-panel px-3 py-2 flex items-center gap-2">
                            <div class="status-dot"></div>
                            <span class="text-xs text-white uppercase tracking-widest">Verified</span>
                        </div>
                    </div>
                    <div class="p-5 -mt-6 relative">
                        <div class="text-[var(--color-gold)] text-4xl font-serif leading-none mb-2">"</div>
                        <p class="text-white/80 text-sm leading-relaxed mb-4">
                            I didn't know my mother had a crypto wallet until Legacy's discovery scan found it. It paid for the funeral and grandkids' college.
                        </p>
                        <div class="flex items-center justify-between">
                            <div>
                                <div class="text-white font-bold text-sm" style="font-family: 'Cinzel', serif;">Angela W.</div>
                                <div class="text-[var(--color-gold)] text-[0.6rem] uppercase tracking-widest">Hidden Assets Found</div>
                            </div>
                            <div class="text-2xl font-bold text-[var(--color-emerald)]/30" style="font-family: 'Cinzel', serif;">$47K</div>
                        </div>
                    </div>
                </div>
                
                <!-- Testimonial 3 - Marcus T (African American man) -->
                <div class="portrait-card glass-card overflow-hidden reveal delay-3">
                    <div class="relative h-56 overflow-hidden">
                        <img src="https://images.unsplash.com/photo-1522529599102-193c0d76b5b6?q=80&w=3840&auto=format&fit=crop" 
                             alt="Marcus T. - African American professional man"
                             class="w-full h-full object-cover"
                             style="object-position: center 20%;">
                        <div class="absolute inset-x-0 bottom-0 h-32 bg-gradient-to-t from-[#0f172a] to-transparent"></div>
                        <div class="absolute top-4 right-4 glass-panel px-3 py-2 flex items-center gap-2">
                            <div class="status-dot"></div>
                            <span class="text-xs text-white uppercase tracking-widest">Active</span>
                        </div>
                    </div>
                    <div class="p-5 -mt-6 relative">
                        <div class="text-[var(--color-gold)] text-4xl font-serif leading-none mb-2">"</div>
                        <p class="text-white/80 text-sm leading-relaxed mb-4">
                            'Peace of Mind' isn't just a slogan. Knowing my wife won't fight bureaucrats when I'm gone is the best gift I could give her.
                        </p>
                        <div class="flex items-center justify-between">
                            <div>
                                <div class="text-white font-bold text-sm" style="font-family: 'Cinzel', serif;">Marcus T.</div>
                                <div class="text-[var(--color-gold)] text-[0.6rem] uppercase tracking-widest">Member Since 2023</div>
                            </div>
                            <div class="text-2xl font-bold text-[var(--color-gold)]/30" style="font-family: 'Cinzel', serif;">∞</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section Divider -->
    <div class="section-divider"></div>

    <!-- =====================================================
         PRICING SECTION
         ===================================================== -->
    <section id="pricing" class="py-10 relative overflow-hidden">
        <div class="absolute inset-0 bg-[#1e3a8a]/50"></div>
        
        <div class="max-w-5xl mx-auto px-5 relative z-10">
            <!-- Section Header -->
            <div class="text-center mb-10 reveal">
                <h2 class="text-2xl md:text-3xl lg:text-4xl text-white mb-4" style="font-family: 'Cinzel', serif;">
                    Choose Your <span class="text-[var(--color-gold)]">Protocol</span>
                </h2>
            </div>

            <div class="grid md:grid-cols-3 gap-5 items-stretch">
                <!-- Basic -->
                <div class="glass-card p-5 flex flex-col reveal delay-1">
                    <div class="flex items-center gap-2 mb-3">
                        <div class="status-dot"></div>
                        <div class="text-[0.6rem] tracking-[0.15em] text-white/70 uppercase">Self-Guided</div>
                    </div>
                    <div class="text-3xl text-white mb-1" style="font-family: 'Cinzel', serif;">FREE</div>
                    <div class="text-[0.6rem] text-white/50 uppercase tracking-widest mb-4">Forever</div>
                    <p class="text-white/70 text-xs mb-5 flex-grow">
                        For families who need a roadmap but can handle the execution.
                    </p>
                    <button onclick="selectTierAndSignup('free')" class="w-full py-3 border border-white/20 text-white hover:bg-white hover:text-black transition-all text-[0.6rem] font-bold uppercase tracking-widest">
                        Start Free
                    </button>
                </div>

                <!-- Concierge (Gold) - Featured -->
                <div class="glass-card p-5 flex flex-col border-[var(--color-gold)]/50 bg-gradient-to-b from-[var(--color-gold)]/10 to-transparent relative reveal delay-2 md:-mt-3 md:mb-3">
                    <div class="absolute top-0 left-0 w-full h-1 bg-[var(--color-gold)]"></div>
                    <div class="flex justify-between items-center mb-3">
                        <div class="flex items-center gap-2">
                            <div class="status-dot"></div>
                            <div class="text-[0.6rem] tracking-[0.15em] text-[var(--color-gold)] uppercase font-bold">Concierge</div>
                        </div>
                        <div class="px-2 py-0.5 bg-[var(--color-gold)] text-black text-[0.55rem] font-bold uppercase">Popular</div>
                    </div>
                    <div class="text-3xl text-white mb-1" style="font-family: 'Cinzel', serif;">$2,997</div>
                    <div class="text-[0.6rem] text-white/50 uppercase tracking-widest mb-4">One-Time Payment</div>
                    <p class="text-white/70 text-xs mb-4 flex-grow">
                        We do the heavy lifting. Automated filing and fraud protection included.
                    </p>
                    <ul class="space-y-2 text-xs text-white/80 mb-5">
                        <li class="flex gap-2 items-center"><span class="text-[var(--color-gold)]">✓</span> 10 Certified Death Certificates</li>
                        <li class="flex gap-2 items-center"><span class="text-[var(--color-gold)]">✓</span> Auto-Filing Service</li>
                        <li class="flex gap-2 items-center"><span class="text-[var(--color-gold)]">✓</span> Priority Support</li>
                        <li class="flex gap-2 items-center"><span class="text-[var(--color-gold)]">✓</span> Asset Discovery Scan</li>
                    </ul>
                    <button onclick="selectTierAndSignup('concierge')" class="btn-gold w-full">
                        Secure Membership
                    </button>
                </div>

                <!-- White Glove -->
                <div class="glass-card p-5 flex flex-col reveal delay-3">
                    <div class="flex items-center gap-2 mb-3">
                        <div class="status-dot"></div>
                        <div class="text-[0.6rem] tracking-[0.15em] text-white/70 uppercase">White Glove</div>
                    </div>
                    <div class="text-3xl text-white mb-1" style="font-family: 'Cinzel', serif;">$9,997</div>
                    <div class="text-[0.6rem] text-white/50 uppercase tracking-widest mb-4">One-Time Payment</div>
                    <p class="text-white/70 text-xs mb-5 flex-grow">
                        Dedicated human estate agent for complex asset administration.
                    </p>
                    <button onclick="selectTierAndSignup('whiteglove')" class="w-full py-3 border border-white/20 text-white hover:bg-white hover:text-black transition-all text-[0.6rem] font-bold uppercase tracking-widest">
                        Contact Sales
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- =====================================================
         FINAL CTA - Full-Bleed with People Imagery
         ===================================================== -->
    <section class="photo-section min-h-[50vh] flex items-center justify-center">
        <div class="photo-bg">
            <!-- Grandparent with grandchild -->
            <img src="https://images.unsplash.com/photo-1476234251651-f353703a034d?w=1600&h=900&fit=crop&crop=faces" 
                 alt="Grandmother and grandchild sharing moment"
                 style="object-position: center center;">
        </div>
        
        <div class="absolute inset-0 bg-gradient-to-t from-[#0f172a] via-[#0f172a]/50 to-[#0f172a]/40 z-1"></div>
        
        <!-- Art Deco corners -->
        <div class="deco-corner top-left"></div>
        <div class="deco-corner top-right"></div>
        
        <div class="photo-content text-center px-5 max-w-3xl mx-auto flex flex-col items-center justify-center">
            <div class="reveal">
                <div class="deco-divider mb-4">
                    <div class="deco-diamond"></div>
                </div>
                
                <h2 class="text-2xl md:text-3xl lg:text-4xl text-white mb-4 leading-tight hero-text" style="font-family: 'Cinzel', serif;">
                    Rise Forward.<br>
                    <span class="text-[var(--color-gold)] hero-text-gold">Begin Your Legacy.</span>
                </h2>
                
                <p class="text-sm md:text-base text-white mb-5 max-w-xl mx-auto hero-text">
                    Don't let paperwork steal your moments of remembrance. Let us handle the chaos—so you can honor what matters.
                </p>
                
                <div class="flex flex-col sm:flex-row gap-3 justify-center items-center">
                    <button onclick="openAuthModal('signup')" class="btn-gold">
                        Initialize Protocol
                    </button>
                    <button onclick="openAuthModal('signin')" class="btn-outline">
                        Schedule a Call
                    </button>
                </div>
                
                <div class="mt-6 flex flex-wrap items-center justify-center gap-5 text-white text-[0.65rem] tracking-[0.12em] uppercase hero-text">
                    <div class="flex items-center gap-2">
                        <div class="status-dot"></div>
                        <span>Setup in 15 Minutes</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <div class="status-dot"></div>
                        <span>No Credit Card</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <div class="status-dot"></div>
                        <span>Cancel Anytime</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- =====================================================
         FOOTER - Comprehensive
         ===================================================== -->
    <footer class="bg-[#0a0f1a] border-t border-[var(--color-gold)]/20 py-6">
        <div class="max-w-6xl mx-auto px-5">
            <!-- Compact grid -->
            <div class="grid md:grid-cols-5 gap-6 mb-4">
                <!-- Brand -->
                <div class="md:col-span-2">
                    <div class="flex items-center gap-2 mb-2">
                        <div class="w-6 h-6 text-[var(--color-gold)]">
                            <svg viewBox="0 0 100 100" class="w-full h-full fill-current" xmlns="http://www.w3.org/2000/svg">
                                <path d="M50 20 C55 20 58 25 58 30 C58 35 55 38 50 38 C45 38 42 35 42 30 C42 25 45 20 50 20 M50 40 C60 40 70 30 80 15 C85 25 85 45 70 55 L60 60 L65 90 L50 85 L35 90 L40 60 L30 55 C15 45 15 25 20 15 C30 30 40 40 50 40 Z" />
                            </svg>
                        </div>
                        <span class="text-sm font-bold text-white tracking-widest" style="font-family: 'Cinzel', serif;">LEGACY</span>
                    </div>
                    <p class="text-white/70 text-xs leading-relaxed">
                        The Estate Operating System. Transforming end-of-life management through AI-powered automation.
                    </p>
                </div>
                
                <!-- Product -->
                <div>
                    <h4 class="text-[var(--color-gold)] font-bold text-[0.6rem] uppercase tracking-widest mb-2">Product</h4>
                    <ul class="space-y-1.5 text-white/70 text-xs">
                        <li><a href="#protocol" class="hover:text-white transition-colors">How It Works</a></li>
                        <li><a href="#security" class="hover:text-white transition-colors">Security</a></li>
                        <li><a href="#pricing" class="hover:text-white transition-colors">Pricing</a></li>
                    </ul>
                </div>
                
                <!-- Company -->
                <div>
                    <h4 class="text-[var(--color-gold)] font-bold text-[0.6rem] uppercase tracking-widest mb-2">Company</h4>
                    <ul class="space-y-1.5 text-white/70 text-xs">
                        <li><a href="#" class="hover:text-white transition-colors">About Us</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">Careers</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">Contact</a></li>
                    </ul>
                </div>
                
                <!-- Legal -->
                <div>
                    <h4 class="text-[var(--color-gold)] font-bold text-[0.6rem] uppercase tracking-widest mb-2">Legal</h4>
                    <ul class="space-y-1.5 text-white/70 text-xs">
                        <li><a href="#" class="hover:text-white transition-colors">Privacy</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">Terms</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">GDPR</a></li>
                    </ul>
                </div>
            </div>
            
            <!-- Divider -->
            <div class="deco-line mb-3"></div>
            
            <!-- Bottom Row - more compact -->
            <div class="flex flex-col md:flex-row justify-between items-center gap-3">
                <div class="text-white/50 text-[0.6rem]">
                    &copy; 2025 Legacy OS Inc. All rights reserved.
                </div>
                
                <!-- Trust Badges -->
                <div class="flex items-center gap-3">
                    <div class="flex items-center gap-1 text-white/60 text-[0.6rem] uppercase tracking-wider">
                        <div class="status-dot"></div>
                        <span>SOC 2</span>
                    </div>
                    <div class="flex items-center gap-1 text-white/60 text-[0.6rem] uppercase tracking-wider">
                        <div class="status-dot"></div>
                        <span>HIPAA</span>
                    </div>
                    <div class="flex items-center gap-1 text-white/60 text-[0.6rem] uppercase tracking-wider">
                        <div class="status-dot"></div>
                        <span>256-bit</span>
                    </div>
                </div>
                
                <!-- Social -->
                <div class="flex items-center gap-3">
                    <a href="#" class="text-white/50 hover:text-[var(--color-gold)] transition-colors">
                        <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"/></svg>
                    </a>
                    <a href="#" class="text-white/50 hover:text-[var(--color-gold)] transition-colors">
                        <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg>
                    </a>
                    <a href="#" class="text-white/50 hover:text-[var(--color-gold)] transition-colors">
                        <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <!-- =====================================================
         AUTHENTICATION MODAL
         ===================================================== -->
    <div id="auth-modal" class="fixed inset-0 z-[100] hidden">
        <!-- Backdrop -->
        <div class="absolute inset-0 bg-black/80 backdrop-blur-sm" onclick="closeAuthModal()"></div>
        
        <!-- Modal Container -->
        <div class="absolute inset-4 md:inset-auto md:top-1/2 md:left-1/2 md:-translate-x-1/2 md:-translate-y-1/2 md:w-[440px] md:max-h-[90vh] overflow-y-auto">
            <div class="glass-card rounded-lg relative">
                <!-- Art Deco corners -->
                <div class="deco-corner top-left" style="top: 8px; left: 8px; width: 24px; height: 24px;"></div>
                <div class="deco-corner top-right" style="top: 8px; right: 8px; width: 24px; height: 24px;"></div>
                <div class="deco-corner bottom-left" style="bottom: 8px; left: 8px; width: 24px; height: 24px;"></div>
                <div class="deco-corner bottom-right" style="bottom: 8px; right: 8px; width: 24px; height: 24px;"></div>
                
                <!-- Close Button -->
                <button onclick="closeAuthModal()" class="absolute top-4 right-4 text-white/60 hover:text-white transition-colors z-10">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
                
                <!-- Modal Content -->
                <div class="p-6 md:p-8">
                    <!-- Logo -->
                    <div class="flex justify-center mb-4">
                        <div class="w-12 h-12 text-[var(--color-gold)]">
                            <svg viewBox="0 0 100 100" class="w-full h-full fill-current">
                                <path d="M50 20 C55 20 58 25 58 30 C58 35 55 38 50 38 C45 38 42 35 42 30 C42 25 45 20 50 20 M50 40 C60 40 70 30 80 15 C85 25 85 45 70 55 L60 60 L65 90 L50 85 L35 90 L40 60 L30 55 C15 45 15 25 20 15 C30 30 40 40 50 40 Z" />
                            </svg>
                        </div>
                    </div>
                    
                    <!-- Sign In Form -->
                    <div id="signin-form" class="auth-form-panel">
                        <h3 class="text-xl text-white text-center mb-1" style="font-family: 'Cinzel', serif;">Welcome Back</h3>
                        <p class="text-white/60 text-xs text-center mb-6">Sign in to continue your legacy journey</p>
                        
                        <!-- Error/Success Messages -->
                        <div id="signin-error" class="hidden bg-red-500/20 border border-red-500/50 text-red-200 text-xs p-3 rounded mb-4"></div>
                        <div id="signin-success" class="hidden bg-emerald-500/20 border border-emerald-500/50 text-emerald-200 text-xs p-3 rounded mb-4"></div>
                        
                        <form onsubmit="handleSignIn(event)">
                            <div class="mb-4">
                                <label class="block text-white/70 text-[0.65rem] uppercase tracking-widest mb-1.5">Email Address</label>
                                <input type="email" id="signin-email" required 
                                       class="w-full bg-white/10 border border-white/20 rounded px-4 py-2.5 text-white text-sm placeholder-white/40 focus:border-[var(--color-gold)] focus:outline-none transition-colors"
                                       placeholder="you@example.com">
                            </div>
                            <div class="mb-4">
                                <label class="block text-white/70 text-[0.65rem] uppercase tracking-widest mb-1.5">Password</label>
                                <div class="relative">
                                    <input type="password" id="signin-password" required minlength="8"
                                           class="w-full bg-white/10 border border-white/20 rounded px-4 py-2.5 pr-10 text-white text-sm placeholder-white/40 focus:border-[var(--color-gold)] focus:outline-none transition-colors"
                                           placeholder="••••••••••••">
                                    <button type="button" onclick="togglePasswordVisibility('signin-password', this)" 
                                            class="absolute right-3 top-1/2 -translate-y-1/2 text-white/40 hover:text-white/70 transition-colors" aria-label="Toggle password visibility">
                                        <svg class="w-5 h-5 eye-open" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
                                        </svg>
                                        <svg class="w-5 h-5 eye-closed hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"></path>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                            <div class="flex justify-between items-center mb-5">
                                <label class="flex items-center gap-2 text-white/60 text-xs cursor-pointer">
                                    <input type="checkbox" id="signin-remember" class="accent-[var(--color-gold)]">
                                    Remember me
                                </label>
                                <button type="button" onclick="showForgotPassword()" class="text-[var(--color-gold)] text-xs hover:underline">Forgot password?</button>
                            </div>
                            <button type="submit" id="signin-btn" class="btn-gold w-full py-3">
                                Sign In
                            </button>
                        </form>
                        
                        <!-- Divider -->
                        <div class="flex items-center my-5">
                            <div class="flex-1 h-px bg-white/20"></div>
                            <span class="px-3 text-white/40 text-[0.6rem] uppercase tracking-widest">or</span>
                            <div class="flex-1 h-px bg-white/20"></div>
                        </div>
                        
                        <!-- Google Sign In -->
                        <button type="button" onclick="handleGoogleSignIn()" 
                                class="w-full py-2.5 border border-white/20 rounded flex items-center justify-center gap-3 text-white text-sm hover:bg-white/10 transition-colors">
                            <svg class="w-5 h-5" viewBox="0 0 24 24">
                                <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                                <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                                <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                                <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                            </svg>
                            Continue with Google
                        </button>
                        
                        <p class="text-center text-white/60 text-xs mt-5">
                            Don't have an account? <button type="button" onclick="showSignUp()" class="text-[var(--color-gold)] hover:underline">Create one</button>
                        </p>
                    </div>
                    
                    <!-- Sign Up Form -->
                    <div id="signup-form" class="auth-form-panel hidden">
                        <h3 class="text-xl text-white text-center mb-1" style="font-family: 'Cinzel', serif;">Begin Your Legacy</h3>
                        <p class="text-white/60 text-xs text-center mb-5">Create your account to get started</p>
                        
                        <!-- Error/Success Messages -->
                        <div id="signup-error" class="hidden bg-red-500/20 border border-red-500/50 text-red-200 text-xs p-3 rounded mb-4"></div>
                        <div id="signup-success" class="hidden bg-emerald-500/20 border border-emerald-500/50 text-emerald-200 text-xs p-3 rounded mb-4"></div>
                        
                        <form onsubmit="handleSignUp(event)">
                            <div class="grid grid-cols-2 gap-3 mb-3">
                                <div>
                                    <label class="block text-white/70 text-[0.65rem] uppercase tracking-widest mb-1.5">First Name</label>
                                    <input type="text" id="signup-firstname" required 
                                           class="w-full bg-white/10 border border-white/20 rounded px-3 py-2.5 text-white text-sm placeholder-white/40 focus:border-[var(--color-gold)] focus:outline-none transition-colors"
                                           placeholder="John">
                                </div>
                                <div>
                                    <label class="block text-white/70 text-[0.65rem] uppercase tracking-widest mb-1.5">Last Name</label>
                                    <input type="text" id="signup-lastname" required 
                                           class="w-full bg-white/10 border border-white/20 rounded px-3 py-2.5 text-white text-sm placeholder-white/40 focus:border-[var(--color-gold)] focus:outline-none transition-colors"
                                           placeholder="Smith">
                                </div>
                            </div>
                            <div class="mb-3">
                                <label class="block text-white/70 text-[0.65rem] uppercase tracking-widest mb-1.5">Email Address</label>
                                <input type="email" id="signup-email" required 
                                       class="w-full bg-white/10 border border-white/20 rounded px-4 py-2.5 text-white text-sm placeholder-white/40 focus:border-[var(--color-gold)] focus:outline-none transition-colors"
                                       placeholder="you@example.com">
                            </div>
                            <div class="mb-4">
                                <label class="block text-white/70 text-[0.65rem] uppercase tracking-widest mb-1.5">Password</label>
                                <div class="relative">
                                    <input type="password" id="signup-password" required minlength="12"
                                           class="w-full bg-white/10 border border-white/20 rounded px-4 py-2.5 pr-10 text-white text-sm placeholder-white/40 focus:border-[var(--color-gold)] focus:outline-none transition-colors"
                                           placeholder="Min 12 characters">
                                    <button type="button" onclick="togglePasswordVisibility('signup-password', this)" 
                                            class="absolute right-3 top-1/2 -translate-y-1/2 text-white/40 hover:text-white/70 transition-colors" aria-label="Toggle password visibility">
                                        <svg class="w-5 h-5 eye-open" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
                                        </svg>
                                        <svg class="w-5 h-5 eye-closed hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"></path>
                                        </svg>
                                    </button>
                                </div>
                                <p class="text-white/40 text-[0.6rem] mt-1">Must include uppercase, lowercase, and numbers</p>
                            </div>
                            
                            <!-- Role Selection -->
                            <div class="mb-4">
                                <label class="block text-white/70 text-[0.65rem] uppercase tracking-widest mb-2">I am a...</label>
                                <div class="grid grid-cols-3 gap-2">
                                    <label class="role-option cursor-pointer">
                                        <input type="radio" name="signup-role" value="principal" checked class="hidden">
                                        <div class="border border-white/20 rounded p-2.5 text-center transition-all hover:border-white/40">
                                            <svg class="w-6 h-6 mx-auto mb-1 text-white/60" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                                            </svg>
                                            <div class="text-white text-[0.6rem] font-bold uppercase tracking-wider">Principal</div>
                                            <div class="text-white/40 text-[0.5rem]">Planning</div>
                                        </div>
                                    </label>
                                    <label class="role-option cursor-pointer">
                                        <input type="radio" name="signup-role" value="executor" class="hidden">
                                        <div class="border border-white/20 rounded p-2.5 text-center transition-all hover:border-white/40">
                                            <svg class="w-6 h-6 mx-auto mb-1 text-white/60" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                            </svg>
                                            <div class="text-white text-[0.6rem] font-bold uppercase tracking-wider">Executor</div>
                                            <div class="text-white/40 text-[0.5rem]">Managing</div>
                                        </div>
                                    </label>
                                    <label class="role-option cursor-pointer">
                                        <input type="radio" name="signup-role" value="heir" class="hidden">
                                        <div class="border border-white/20 rounded p-2.5 text-center transition-all hover:border-white/40">
                                            <svg class="w-6 h-6 mx-auto mb-1 text-white/60" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                            </svg>
                                            <div class="text-white text-[0.6rem] font-bold uppercase tracking-wider">Heir</div>
                                            <div class="text-white/40 text-[0.5rem]">Receiving</div>
                                        </div>
                                    </label>
                                </div>
                            </div>
                            
                            <!-- Terms -->
                            <label class="flex items-start gap-2 mb-5 cursor-pointer">
                                <input type="checkbox" id="signup-terms" required class="mt-0.5 accent-[var(--color-gold)]">
                                <span class="text-white/60 text-xs leading-relaxed">I agree to Legacy's <a href="/terms" class="text-[var(--color-gold)] hover:underline">Terms</a> and <a href="/privacy" class="text-[var(--color-gold)] hover:underline">Privacy Policy</a></span>
                            </label>
                            
                            <button type="submit" id="signup-btn" class="btn-gold w-full py-3">
                                Create Account
                            </button>
                        </form>
                        
                        <!-- Divider -->
                        <div class="flex items-center my-4">
                            <div class="flex-1 h-px bg-white/20"></div>
                            <span class="px-3 text-white/40 text-[0.6rem] uppercase tracking-widest">or</span>
                            <div class="flex-1 h-px bg-white/20"></div>
                        </div>
                        
                        <!-- Google Sign Up -->
                        <button type="button" onclick="handleGoogleSignIn()" 
                                class="w-full py-2.5 border border-white/20 rounded flex items-center justify-center gap-3 text-white text-sm hover:bg-white/10 transition-colors">
                            <svg class="w-5 h-5" viewBox="0 0 24 24">
                                <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                                <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                                <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                                <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                            </svg>
                            Continue with Google
                        </button>
                        
                        <p class="text-center text-white/60 text-xs mt-4">
                            Already have an account? <button type="button" onclick="showSignIn()" class="text-[var(--color-gold)] hover:underline">Sign in</button>
                        </p>
                    </div>
                    
                    <!-- Forgot Password Form -->
                    <div id="forgot-form" class="auth-form-panel hidden">
                        <h3 class="text-xl text-white text-center mb-1" style="font-family: 'Cinzel', serif;">Reset Password</h3>
                        <p class="text-white/60 text-xs text-center mb-6">Enter your email to receive a reset link</p>
                        
                        <!-- Error/Success Messages -->
                        <div id="forgot-error" class="hidden bg-red-500/20 border border-red-500/50 text-red-200 text-xs p-3 rounded mb-4"></div>
                        <div id="forgot-success" class="hidden bg-emerald-500/20 border border-emerald-500/50 text-emerald-200 text-xs p-3 rounded mb-4"></div>
                        
                        <form onsubmit="handleForgotPassword(event)">
                            <div class="mb-5">
                                <label class="block text-white/70 text-[0.65rem] uppercase tracking-widest mb-1.5">Email Address</label>
                                <input type="email" id="forgot-email" required 
                                       class="w-full bg-white/10 border border-white/20 rounded px-4 py-2.5 text-white text-sm placeholder-white/40 focus:border-[var(--color-gold)] focus:outline-none transition-colors"
                                       placeholder="you@example.com">
                            </div>
                            <button type="submit" id="forgot-btn" class="btn-gold w-full py-3">
                                Send Reset Link
                            </button>
                        </form>
                        
                        <p class="text-center text-white/60 text-xs mt-5">
                            Remember your password? <button type="button" onclick="showSignIn()" class="text-[var(--color-gold)] hover:underline">Sign in</button>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <style>
        /* Auth Modal Styles */
        #auth-modal.active {
            display: block;
        }
        
        .role-option input:checked + div {
            border-color: var(--color-gold);
            background: rgba(200, 169, 81, 0.15);
        }
        
        .role-option input:checked + div svg {
            color: var(--color-gold);
        }
        
        /* Loading state for buttons */
        .btn-loading {
            pointer-events: none;
            opacity: 0.7;
        }
        
        .btn-loading::after {
            content: '';
            display: inline-block;
            width: 14px;
            height: 14px;
            border: 2px solid currentColor;
            border-right-color: transparent;
            border-radius: 50%;
            animation: spin 0.6s linear infinite;
            margin-left: 8px;
            vertical-align: middle;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* User menu in nav */
        .user-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            border: 2px solid var(--color-gold);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
            font-weight: 600;
            color: var(--color-gold);
            background: rgba(200, 169, 81, 0.2);
            cursor: pointer;
            transition: all 0.2s;
            text-decoration: none;
        }
        
        .user-avatar:hover {
            background: rgba(200, 169, 81, 0.4);
            transform: scale(1.05);
        }
        
        /* User dropdown menu */
        .user-menu {
            position: relative;
        }
        
        .user-dropdown {
            position: absolute;
            top: calc(100% + 8px);
            right: 0;
            min-width: 180px;
            background: #FFFFFF;
            border: 1px solid #E5E7EB;
            border-radius: 8px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
            z-index: 100;
            overflow: hidden;
        }
        
        .user-dropdown.hidden {
            display: none;
        }
        
        .dropdown-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 14px;
            color: #374151;
            text-decoration: none;
            font-size: 0.875rem;
            transition: background 0.15s;
            border: none;
            background: none;
            width: 100%;
            text-align: left;
            cursor: pointer;
        }
        
        .dropdown-item:hover {
            background: #F3F4F6;
        }
        
        .dropdown-item svg {
            color: #6B7280;
        }
        
        .dropdown-item.text-red-400 {
            color: #F87171;
        }
        
        .dropdown-item.text-red-400:hover {
            background: #FEF2F2;
        }
        
        .dropdown-item.text-red-400 svg {
            color: #F87171;
        }
        
        .dropdown-divider {
            height: 1px;
            background: #E5E7EB;
            margin: 4px 0;
        }
    </style>

    <!-- =====================================================
         SCRIPTS
         ===================================================== -->
    
    <!-- Firebase SDK (Module) -->
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js';
        import { 
            getAuth, 
            signInWithEmailAndPassword, 
            createUserWithEmailAndPassword,
            signInWithPopup, 
            GoogleAuthProvider,
            sendPasswordResetEmail,
            sendEmailVerification,
            updateProfile,
            onAuthStateChanged,
            signOut
        } from 'https://www.gstatic.com/firebasejs/10.7.0/firebase-auth.js';
        import { 
            getFirestore, 
            doc, 
            getDoc,
            setDoc,
            updateDoc,
            serverTimestamp 
        } from 'https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore.js';

        // Firebase configuration - Legacy Estate OS
        const firebaseConfig = {
            apiKey: "AIzaSyANMDZXcdn2eI8JN8FxXlAkCt-f4BONuiU",
            authDomain: "legacy-estate-os.firebaseapp.com",
            projectId: "legacy-estate-os",
            storageBucket: "legacy-estate-os.firebasestorage.app",
            messagingSenderId: "1002875213628",
            appId: "1:1002875213628:web:59d3f4b04345f3f7abb039"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);
        const googleProvider = new GoogleAuthProvider();

        // Make auth available globally
        window.firebaseAuth = auth;
        window.firebaseDb = db;
        
        // Role-based redirect URLs
        const roleRedirects = {
            admin: '/admin/dashboard.html',
            principal: '/portals/principal/dashboard.html',
            executor: '/portals/executor/dashboard.html',
            heir: '/portals/heir/dashboard.html'
        };

        // Stripe configuration (test mode - replace with live keys for production)
        const stripeConfig = {
            // These would be your actual Stripe price IDs
            prices: {
                concierge: 'price_concierge_2997',
                whiteglove: 'price_whiteglove_9997'
            },
            // Stripe checkout session endpoint (Firebase Function)
            checkoutEndpoint: '/api/create-checkout-session'
        };

        // Check for promo code in URL and store it
        const urlParams = new URLSearchParams(window.location.search);
        const urlPromo = urlParams.get('promo');
        if (urlPromo) {
            localStorage.setItem('legacy_promo_code', urlPromo.toUpperCase());
        }
        
        // Auto-open signup modal if #signup hash present
        if (window.location.hash === '#signup') {
            setTimeout(() => openAuthModal('signup'), 500);
        }

        // Check auth state on load
        onAuthStateChanged(auth, async (user) => {
            if (user) {
                console.log('✅ User signed in:', user.email);
                try {
                    const userDoc = await getDoc(doc(db, 'users', user.uid));
                    const userData = userDoc.exists() ? userDoc.data() : {};
                    window.currentUser = { ...user, ...userData };
                    updateNavForLoggedInUser(user, userData);
                } catch (err) {
                    console.warn('Could not fetch user data:', err);
                    window.currentUser = user;
                    updateNavForLoggedInUser(user, {});
                }
            } else {
                console.log('👤 No user signed in');
                window.currentUser = null;
                updateNavForLoggedOutUser();
            }
        });

        // Update nav for logged in user
        function updateNavForLoggedInUser(user, userData) {
            const navRight = document.querySelector('nav .btn-gold') || document.querySelector('nav .flex.items-center.gap-3') || document.querySelector('nav .user-menu');
            if (navRight) {
                const initial = (user.displayName || user.email || 'U')[0].toUpperCase();
                const role = userData.role || 'principal';
                const dashboardUrl = roleRedirects[role] || roleRedirects.principal;
                
                navRight.outerHTML = `
                    <div class="user-menu relative">
                        <button class="user-avatar" id="nav-avatar-btn" title="Menu">${initial}</button>
                        <div class="user-dropdown hidden" id="nav-dropdown">
                            <a href="${dashboardUrl}" class="dropdown-item">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
                                </svg>
                                Dashboard
                            </a>
                            <a href="/account/" class="dropdown-item">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                                </svg>
                                Account Settings
                            </a>
                            <div class="dropdown-divider"></div>
                            <button onclick="window.handleSignOut()" class="dropdown-item text-red-400">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path>
                                </svg>
                                Sign Out
                            </button>
                        </div>
                    </div>
                `;
                
                // Setup dropdown toggle
                const avatarBtn = document.getElementById('nav-avatar-btn');
                const dropdown = document.getElementById('nav-dropdown');
                
                avatarBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    dropdown.classList.toggle('hidden');
                });
                
                document.addEventListener('click', (e) => {
                    if (!dropdown.contains(e.target) && e.target !== avatarBtn) {
                        dropdown.classList.add('hidden');
                    }
                });
            }
        }

        // Update nav for logged out user
        function updateNavForLoggedOutUser() {
            const navUserArea = document.querySelector('nav .flex.items-center.gap-3');
            if (navUserArea) {
                navUserArea.outerHTML = `<a href="#pricing" class="btn-gold" onclick="event.preventDefault(); openAuthModal('signin');">Get Started</a>`;
            }
        }

        // Sign In Handler
        window.handleSignIn = async function(e) {
            e.preventDefault();
            const email = document.getElementById('signin-email').value.trim();
            const password = document.getElementById('signin-password').value;
            const btn = document.getElementById('signin-btn');
            const errorDiv = document.getElementById('signin-error');
            const successDiv = document.getElementById('signin-success');
            
            // Reset messages
            errorDiv.classList.add('hidden');
            successDiv.classList.add('hidden');
            
            // Show loading
            btn.classList.add('btn-loading');
            btn.textContent = 'Signing in';
            
            try {
                const userCredential = await signInWithEmailAndPassword(auth, email, password);
                const user = userCredential.user;
                
                // Get user role from Firestore
                const userDoc = await getDoc(doc(db, 'users', user.uid));
                const userData = userDoc.exists() ? userDoc.data() : {};
                
                // Update last login
                if (userDoc.exists()) {
                    await updateDoc(doc(db, 'users', user.uid), {
                        lastLoginAt: serverTimestamp()
                    }).catch(() => {});
                }
                
                successDiv.textContent = 'Success! Redirecting...';
                successDiv.classList.remove('hidden');
                
                // Redirect based on role
                const role = userData.role || 'principal';
                setTimeout(() => {
                    window.location.href = roleRedirects[role] || roleRedirects.principal;
                }, 1000);
                
            } catch (error) {
                console.error('Sign in error:', error);
                let message = 'An error occurred. Please try again.';
                
                switch(error.code) {
                    case 'auth/user-not-found':
                    case 'auth/wrong-password':
                    case 'auth/invalid-credential':
                        message = 'Invalid email or password.';
                        break;
                    case 'auth/too-many-requests':
                        message = 'Too many attempts. Please try again later.';
                        break;
                    case 'auth/user-disabled':
                        message = 'This account has been disabled.';
                        break;
                }
                
                errorDiv.textContent = message;
                errorDiv.classList.remove('hidden');
                btn.classList.remove('btn-loading');
                btn.textContent = 'Sign In';
            }
        };

        // Sign Up Handler
        window.handleSignUp = async function(e) {
            e.preventDefault();
            const firstName = document.getElementById('signup-firstname').value.trim();
            const lastName = document.getElementById('signup-lastname').value.trim();
            const email = document.getElementById('signup-email').value.trim();
            const password = document.getElementById('signup-password').value;
            const role = document.querySelector('input[name="signup-role"]:checked')?.value || 'principal';
            const terms = document.getElementById('signup-terms').checked;
            const btn = document.getElementById('signup-btn');
            const errorDiv = document.getElementById('signup-error');
            const successDiv = document.getElementById('signup-success');
            
            // Reset messages
            errorDiv.classList.add('hidden');
            successDiv.classList.add('hidden');
            
            // Validate password
            if (password.length < 12) {
                errorDiv.textContent = 'Password must be at least 12 characters.';
                errorDiv.classList.remove('hidden');
                return;
            }
            if (!/[A-Z]/.test(password) || !/[a-z]/.test(password) || !/[0-9]/.test(password)) {
                errorDiv.textContent = 'Password must include uppercase, lowercase, and numbers.';
                errorDiv.classList.remove('hidden');
                return;
            }
            
            if (!terms) {
                errorDiv.textContent = 'Please agree to the Terms and Privacy Policy.';
                errorDiv.classList.remove('hidden');
                return;
            }
            
            // Show loading
            btn.classList.add('btn-loading');
            btn.textContent = 'Creating account';
            
            try {
                const userCredential = await createUserWithEmailAndPassword(auth, email, password);
                const user = userCredential.user;
                
                // Update profile with display name
                await updateProfile(user, {
                    displayName: `${firstName} ${lastName}`
                });
                
                // Get promo code from localStorage if available
                const promoCode = localStorage.getItem('legacy_promo_code') || null;
                const promoDiscount = localStorage.getItem('legacy_promo_discount') || 0;
                
                // Determine subscription tier (free by default, paid tiers require Stripe)
                const selectedTier = localStorage.getItem('legacy_selected_tier') || 'free';
                
                // Create user document in Firestore
                await setDoc(doc(db, 'users', user.uid), {
                    email: user.email,
                    displayName: `${firstName} ${lastName}`,
                    photoURL: '',
                    role: role,
                    mfaEnabled: false,
                    emailVerified: false,
                    createdAt: serverTimestamp(),
                    lastLoginAt: serverTimestamp(),
                    profile: {
                        firstName,
                        lastName
                    },
                    // Promo tracking
                    promoCode: promoCode,
                    promoDiscount: parseInt(promoDiscount) || 0,
                    // Subscription (starts as free, upgraded via Stripe)
                    subscription: {
                        plan: 'free',
                        status: 'active',
                        createdAt: serverTimestamp()
                    }
                });
                
                // Send verification email
                await sendEmailVerification(user);
                
                // Clear promo from localStorage after use
                localStorage.removeItem('legacy_promo_code');
                localStorage.removeItem('legacy_promo_discount');
                localStorage.removeItem('legacy_selected_tier');
                
                // Check if user came from a paid tier CTA
                if (selectedTier === 'concierge' || selectedTier === 'whiteglove') {
                    successDiv.textContent = 'Account created! Redirecting to checkout...';
                    successDiv.classList.remove('hidden');
                    
                    // Redirect to Stripe Checkout
                    setTimeout(() => {
                        redirectToStripeCheckout(user.uid, selectedTier, promoCode);
                    }, 1000);
                } else {
                    successDiv.textContent = 'Account created! Redirecting to your dashboard...';
                    successDiv.classList.remove('hidden');
                    
                    // Redirect to dashboard
                    setTimeout(() => {
                        window.location.href = roleRedirects[role] || roleRedirects.principal;
                    }, 1500);
                }
                
            } catch (error) {
                console.error('Sign up error:', error);
                let message = 'An error occurred. Please try again.';
                
                switch(error.code) {
                    case 'auth/email-already-in-use':
                        message = 'An account with this email already exists.';
                        break;
                    case 'auth/invalid-email':
                        message = 'Please enter a valid email address.';
                        break;
                    case 'auth/weak-password':
                        message = 'Password is too weak.';
                        break;
                }
                
                errorDiv.textContent = message;
                errorDiv.classList.remove('hidden');
                btn.classList.remove('btn-loading');
                btn.textContent = 'Create Account';
            }
        };

        // Google Sign In Handler
        window.handleGoogleSignIn = async function() {
            try {
                const result = await signInWithPopup(auth, googleProvider);
                const user = result.user;
                
                // Check if user exists in Firestore
                const userDoc = await getDoc(doc(db, 'users', user.uid));
                
                if (!userDoc.exists()) {
                    // Get role from signup form if visible, otherwise default to principal
                    const roleInput = document.querySelector('input[name="signup-role"]:checked');
                    const role = roleInput ? roleInput.value : 'principal';
                    
                    // Get promo code from localStorage if available
                    const promoCode = localStorage.getItem('legacy_promo_code') || null;
                    const selectedTier = localStorage.getItem('legacy_selected_tier') || 'free';
                    
                    // New user - create document
                    await setDoc(doc(db, 'users', user.uid), {
                        email: user.email,
                        displayName: user.displayName || '',
                        photoURL: user.photoURL || '',
                        role: role,
                        mfaEnabled: false,
                        emailVerified: user.emailVerified,
                        createdAt: serverTimestamp(),
                        lastLoginAt: serverTimestamp(),
                        profile: {},
                        promoCode: promoCode,
                        subscription: {
                            plan: 'free',
                            status: 'active',
                            createdAt: serverTimestamp()
                        }
                    });
                    
                    // Clear promo
                    localStorage.removeItem('legacy_promo_code');
                    localStorage.removeItem('legacy_selected_tier');
                    
                    // Check for paid tier
                    if (selectedTier === 'concierge' || selectedTier === 'whiteglove') {
                        redirectToStripeCheckout(user.uid, selectedTier, promoCode);
                    } else {
                        window.location.href = roleRedirects[role];
                    }
                } else {
                    // Existing user - update last login
                    await updateDoc(doc(db, 'users', user.uid), {
                        lastLoginAt: serverTimestamp()
                    }).catch(() => {});
                    
                    const userData = userDoc.data();
                    const role = userData.role || 'principal';
                    window.location.href = roleRedirects[role];
                }
                
            } catch (error) {
                console.error('Google sign in error:', error);
                if (error.code === 'auth/popup-closed-by-user') return;
                
                const errorDiv = document.getElementById('signin-error') || document.getElementById('signup-error');
                if (errorDiv) {
                    errorDiv.textContent = 'Google sign in failed. Please try again.';
                    errorDiv.classList.remove('hidden');
                }
            }
        };

        // Forgot Password Handler
        window.handleForgotPassword = async function(e) {
            e.preventDefault();
            const email = document.getElementById('forgot-email').value.trim();
            const btn = document.getElementById('forgot-btn');
            const errorDiv = document.getElementById('forgot-error');
            const successDiv = document.getElementById('forgot-success');
            
            errorDiv.classList.add('hidden');
            successDiv.classList.add('hidden');
            btn.classList.add('btn-loading');
            btn.textContent = 'Sending';
            
            try {
                await sendPasswordResetEmail(auth, email);
                successDiv.textContent = 'Reset link sent! Check your inbox.';
                successDiv.classList.remove('hidden');
                btn.classList.remove('btn-loading');
                btn.textContent = 'Send Reset Link';
            } catch (error) {
                console.error('Password reset error:', error);
                errorDiv.textContent = 'Could not send reset email. Please check the address.';
                errorDiv.classList.remove('hidden');
                btn.classList.remove('btn-loading');
                btn.textContent = 'Send Reset Link';
            }
        };

        // Sign Out Handler
        window.handleSignOut = async function() {
            try {
                await signOut(auth);
                window.location.reload();
            } catch (error) {
                console.error('Sign out error:', error);
            }
        };

        // Redirect to Stripe Checkout
        // In production, this calls a Firebase Function that creates a Stripe session
        window.redirectToStripeCheckout = async function(userId, tier, promoCode) {
            try {
                // For production: call Firebase Function to create Stripe Checkout session
                // const response = await fetch(stripeConfig.checkoutEndpoint, {
                //     method: 'POST',
                //     headers: { 'Content-Type': 'application/json' },
                //     body: JSON.stringify({
                //         userId,
                //         priceId: stripeConfig.prices[tier],
                //         promoCode,
                //         successUrl: window.location.origin + '/portals/principal/dashboard.html?payment=success',
                //         cancelUrl: window.location.origin + '/?payment=cancelled'
                //     })
                // });
                // const { sessionUrl } = await response.json();
                // window.location.href = sessionUrl;
                
                // For now (no Stripe backend yet), redirect to dashboard with upgrade prompt
                console.log('Stripe checkout would be called for:', { userId, tier, promoCode });
                alert(`Stripe integration coming soon!\n\nYou selected: ${tier.toUpperCase()}\nPromo: ${promoCode || 'None'}\n\nYour free account has been created. Contact support@legacy.estate to complete your upgrade.`);
                window.location.href = roleRedirects.principal;
            } catch (error) {
                console.error('Stripe checkout error:', error);
                alert('Payment setup failed. Please contact support.');
                window.location.href = roleRedirects.principal;
            }
        };

        // Select pricing tier before signup
        window.selectTierAndSignup = function(tier) {
            localStorage.setItem('legacy_selected_tier', tier);
            openAuthModal('signup');
        };
    </script>
    
    <!-- Non-module scripts -->
    <script>
        // ================================
        // AUTH MODAL CONTROLS
        // ================================
        
        // Open auth modal
        function openAuthModal(mode = 'signin') {
            const modal = document.getElementById('auth-modal');
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
            
            // Show appropriate form
            if (mode === 'signup') {
                showSignUp();
            } else if (mode === 'forgot') {
                showForgotPassword();
            } else {
                showSignIn();
            }
            
            // Clear any previous messages
            document.querySelectorAll('#auth-modal .bg-red-500\/20, #auth-modal .bg-emerald-500\/20').forEach(el => {
                el.classList.add('hidden');
            });
        }
        
        // Close auth modal
        function closeAuthModal() {
            const modal = document.getElementById('auth-modal');
            modal.classList.remove('active');
            document.body.style.overflow = '';
        }
        
        // Show sign in form
        function showSignIn() {
            document.getElementById('signin-form').classList.remove('hidden');
            document.getElementById('signup-form').classList.add('hidden');
            document.getElementById('forgot-form').classList.add('hidden');
        }
        
        // Show sign up form
        function showSignUp() {
            document.getElementById('signin-form').classList.add('hidden');
            document.getElementById('signup-form').classList.remove('hidden');
            document.getElementById('forgot-form').classList.add('hidden');
        }
        
        // Show forgot password form
        function showForgotPassword() {
            document.getElementById('signin-form').classList.add('hidden');
            document.getElementById('signup-form').classList.add('hidden');
            document.getElementById('forgot-form').classList.remove('hidden');
        }
        
        // Close modal on Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeAuthModal();
            }
        });
        
        // Toggle password visibility
        function togglePasswordVisibility(inputId, btn) {
            const input = document.getElementById(inputId);
            const eyeOpen = btn.querySelector('.eye-open');
            const eyeClosed = btn.querySelector('.eye-closed');
            
            if (input.type === 'password') {
                input.type = 'text';
                eyeOpen.classList.add('hidden');
                eyeClosed.classList.remove('hidden');
            } else {
                input.type = 'password';
                eyeOpen.classList.remove('hidden');
                eyeClosed.classList.add('hidden');
            }
        }
        
        // ================================
        // PAGE INITIALIZATION
        // ================================
        
        document.addEventListener('DOMContentLoaded', function() {
            // Reveal animations
            const observerOptions = {
                root: null,
                rootMargin: '0px',
                threshold: 0.1
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, observerOptions);

            document.querySelectorAll('.reveal, .reveal-left').forEach(el => {
                observer.observe(el);
            });

            // Animated counters
            const counterObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const counter = entry.target;
                        const target = parseInt(counter.getAttribute('data-target'));
                        if (target && !counter.classList.contains('counted')) {
                            counter.classList.add('counted');
                            animateCounter(counter, target);
                        }
                    }
                });
            }, { threshold: 0.5 });

            document.querySelectorAll('.stat-counter[data-target]').forEach(el => {
                counterObserver.observe(el);
            });

            function animateCounter(element, target) {
                const duration = 2000;
                const startTime = performance.now();
                const suffix = element.textContent.includes('%') ? '%' : 
                              element.textContent.includes('+') ? '+' : '';

                function update(currentTime) {
                    const elapsed = currentTime - startTime;
                    const progress = Math.min(elapsed / duration, 1);
                    const easeOut = 1 - Math.pow(1 - progress, 3);
                    const current = Math.floor(target * easeOut);
                    element.textContent = current + suffix;

                    if (progress < 1) {
                        requestAnimationFrame(update);
                    } else {
                        element.textContent = target + suffix;
                    }
                }

                requestAnimationFrame(update);
            }

            // Smooth scroll
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });

            // Navbar on scroll
            const nav = document.querySelector('nav');
            window.addEventListener('scroll', () => {
                if (window.scrollY > 100) {
                    nav.classList.add('bg-black/90');
                    nav.classList.remove('bg-black/20');
                } else {
                    nav.classList.remove('bg-black/90');
                    nav.classList.add('bg-black/20');
                }
            });
        });
    </script>

</body>
</html>
